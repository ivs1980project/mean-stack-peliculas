<link href="css/bootstrap.min.css" rel="stylesheet">

<h1>PELICULAS CON ANGULAR</h1>
<app-film-form [film]="film">Loading...</app-film-form>
<app-film-table [filmStore]="filmStore">Loading...</app-film-table>


<form #form="ngForm" class="form-horizontal" role="form">
	<div class="form-group">
		<label for="titulo" class="col-sm-2 control-label">Titulo</label>
		<div class="col-sm-10">
			<input type="text" class="form-control" id="form-titulo" placeholder="Introduzca titulo" pattern="/[0-9]{7,8}[A-Z]+/" #titulo="ngModel"
				name="titulo" [(ngModel)]="film.titulo" required/>
		</div>
	</div>
	<div class="form-group">
		<label for="director" class="col-sm-2 control-label">Director</label>
		<div class="col-sm-10">
			<input type="director" class="form-control" id="form-director" placeholder="Director" #autor="ngModel" name="autor" [(ngModel)]="film.autor"
				required/>
		</div>
	</div>
	<div class="form-group">
		<label for="fecha" class="col-sm-2 control-label">Fecha</label>
		<div class="col-sm-10">
			<input type="fecha" class="form-control" id="form-fecha" placeholder="Fecha" #anio="ngModel" name="anio" [(ngModel)]="film.anio"
				required/>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-10 centered">
			<input type="button" (click)="addFilm(film)" id="save" class="btn btn-primary" value="Guardar" />
			<input type="button" (click)="modifyFilm(film)" id="modify" class="btn btn-info" value="Modificar" />
			<input type="button" (click)="deleteFilm(film)" id="delete" class="btn btn-danger" value="Borrar" />
		</div>
	</div>
</form>


<table id="film-table" class="table table-striped table-bordered table-hover table-condensed">
	<thead>
		<tr>
			<td>Id
				<span (click)="setOrder('id', 'down')" class="fa fa-caret-down fa-2x colocar"></span>
				<span (click)="setOrder('id', 'up')" class="fa fa-caret-up fa-2x colocar"></span>
			</td>
			<td>Titulo
				<span (click)="setOrder('titulo', 'down')" class="fa fa-caret-down fa-2x colocar"></span>
				<span (click)="setOrder('titulo', 'up')" class="fa fa-caret-up fa-2x colocar"></span>
			</td>
			<td>Director
				<span (click)="setOrder('director', 'down')" class="fa fa-caret-down fa-2x colocar"></span>
				<span (click)="setOrder('director', 'up')" class="fa fa-caret-up fa-2x colocar"></span>
			</td>
			<td>Fecha
				<span (click)="setOrder('fecha', 'down')" class="fa fa-caret-down fa-2x colocar"></span>
				<span (click)="setOrder('fecha', 'up')" class="fa fa-caret-up fa-2x colocar"></span>
			</td>
		</tr>
	</thead>
	<tbody>
		<tr *ngFor="let filmActual of filmStore" (click)="onRowClick(film)">
			<td>{{filmActual.id}}</td>
			<td>{{filmActual.titulo}}</td>
			<td>{{filmActual.autor}}</td>
			<td>{{filmActual.anio}}</td>
		</tr>

	</tbody>
</table>